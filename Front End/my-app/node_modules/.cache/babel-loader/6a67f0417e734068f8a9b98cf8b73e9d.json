{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lielk\\\\Documents\\\\GitHub\\\\Market\\\\Front End\\\\my-app\\\\src\\\\components\\\\Product\\\\ProductList.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useEffect } from \"react\";\nimport ProductID from \"./ProductID\";\nimport createApiClientHttp from \"../../client/clientHttp.js\";\nimport { errorCode } from \"../../ErrorCodeGui\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ProductList = props => {\n  _s();\n\n  console.log(\"ProductList\");\n  const apiClientHttp = createApiClientHttp();\n  const [enteredError, SetError] = useState(\"\");\n  const [UUID, setUUID] = useState(props.uuid);\n  const [allProducts, setallProducts] = useState([]);\n\n  async function getAllProducts() {\n    let products = [];\n    const getAllProductsResponse = await apiClientHttp.getAllProducts();\n    console.log(\"start func  getAllProducts\");\n    console.log(getAllProductsResponse);\n\n    if (getAllProductsResponse.errorMsg !== -1) {\n      SetError(errorCode.get(getAllProductsResponse.errorMsg));\n    } else {\n      console.log(\"elseelseelseelseelseelseelseelseucts\"); // products.\n\n      for (let i = 0; i < getAllProductsResponse.value.length; i++) {\n        products.push({\n          id: getAllProductsResponse.value[i].productID,\n          name: getAllProductsResponse.value[i].productName\n        });\n      }\n\n      console.log(products);\n      setallProducts(products);\n    }\n  }\n\n  useEffect(() => {\n    getAllProducts();\n  }, [allProducts.refresh]); // const [enteredstores, Setstores] = useState([]);\n  //\n  //\n  // console.log(\"StoreList\")\n  //\n  // async function getAllStores() {\n  //     let stores = [];\n  //\n  //     const getAllStoresResponse = await apiClientHttp.getAllStores();\n  //     console.log(\"start func  getAllStores\")\n  //\n  //     if (getAllStoresResponse.errorMsg !== -1) {\n  //         SetError(errorCode.get(getAllStoresResponse.errorMsg))\n  //     } else {\n  //         for (let i = 0; i < getAllStoresResponse.value.length; i++) {\n  //             stores.push({\n  //                 id: getAllStoresResponse.value[i].storeId,\n  //                 name: getAllStoresResponse.value[i].name,\n  //                 open: getAllStoresResponse.value[i].isOpen\n  //             })\n  //         }\n  //         Setstores(stores);\n  //     }\n  // }\n  //\n  // useEffect(() => {\n  //     getAllStores();\n  // }, [enteredstores.refresh]);\n  // console.log(enteredstores)\n\n  async function setSearch() {\n    console.log(\"setSearch \");\n    let allpro = allProducts.filter(product => product.id === parseInt(props.search));\n    console.log(\"  allpro  \" + allpro);\n    setallProducts(allpro);\n  } // if (props.search != \"\"){\n\n\n  useEffect(() => {\n    if (props.search != \"\") {\n      console.log(\"  if (props.search  \");\n      setSearch();\n    }\n  }, [allProducts.refresh]); // }\n\n  if (allProducts.length === 0) {\n    return /*#__PURE__*/_jsxDEV(\"h2\", {\n      className: \"stores-list__fallback\",\n      children: \"Found No expenses\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 16\n    }, this);\n  } // let allpro='-1'\n  // if (props.search != \"\") {\n  //      allpro = allProducts.filter((product) => product.id === parseInt(props.search));\n  //     // setallProducts(allpro)\n  // }\n\n\n  const readMoreHandler = productID => {\n    props.onReadMore(productID);\n  };\n\n  let expensesContent = allProducts.map(expense => /*#__PURE__*/_jsxDEV(ProductID, {\n    id: expense.id,\n    name: expense.name,\n    onReadMore: readMoreHandler\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 103,\n    columnNumber: 9\n  }, this)); // const [searchStore, setStore] = useState(\"\");\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"products-list\",\n      children: expensesContent\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 111,\n      columnNumber: 13\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 110,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ProductList, \"rAc1GvFq21rJKV53R6M/bD7N7xs=\");\n\n_c = ProductList;\nexport default ProductList;\n\nvar _c;\n\n$RefreshReg$(_c, \"ProductList\");","map":{"version":3,"names":["React","useState","useEffect","ProductID","createApiClientHttp","errorCode","ProductList","props","console","log","apiClientHttp","enteredError","SetError","UUID","setUUID","uuid","allProducts","setallProducts","getAllProducts","products","getAllProductsResponse","errorMsg","get","i","value","length","push","id","productID","name","productName","refresh","setSearch","allpro","filter","product","parseInt","search","readMoreHandler","onReadMore","expensesContent","map","expense"],"sources":["C:/Users/lielk/Documents/GitHub/Market/Front End/my-app/src/components/Product/ProductList.js"],"sourcesContent":["import React, {useState, useEffect} from \"react\";\r\nimport ProductID from \"./ProductID\";\r\nimport createApiClientHttp from \"../../client/clientHttp.js\";\r\nimport {errorCode} from \"../../ErrorCodeGui\"\r\n\r\nconst ProductList = props => {\r\n    console.log(\"ProductList\")\r\n    const apiClientHttp = createApiClientHttp();\r\n    const [enteredError, SetError] = useState(\"\");\r\n    const [UUID, setUUID] = useState(props.uuid);\r\n    const [allProducts, setallProducts] = useState([]);\r\n\r\n    async function getAllProducts() {\r\n        let products = []\r\n        const getAllProductsResponse = await apiClientHttp.getAllProducts();\r\n        console.log(\"start func  getAllProducts\")\r\n        console.log(getAllProductsResponse)\r\n\r\n        if (getAllProductsResponse.errorMsg !== -1) {\r\n            SetError(errorCode.get(getAllProductsResponse.errorMsg))\r\n        } else {\r\n            console.log(\"elseelseelseelseelseelseelseelseucts\")\r\n\r\n            // products.\r\n            for (let i = 0; i < getAllProductsResponse.value.length; i++) {\r\n                products.push({id: getAllProductsResponse.value[i].productID, name: getAllProductsResponse.value[i].productName})\r\n            }\r\n            console.log(products)\r\n            setallProducts(products)\r\n        }\r\n    }\r\n\r\n    useEffect(() => {\r\n        getAllProducts();\r\n    }, [allProducts.refresh]);\r\n\r\n    // const [enteredstores, Setstores] = useState([]);\r\n    //\r\n    //\r\n    // console.log(\"StoreList\")\r\n    //\r\n    // async function getAllStores() {\r\n    //     let stores = [];\r\n    //\r\n    //     const getAllStoresResponse = await apiClientHttp.getAllStores();\r\n    //     console.log(\"start func  getAllStores\")\r\n    //\r\n    //     if (getAllStoresResponse.errorMsg !== -1) {\r\n    //         SetError(errorCode.get(getAllStoresResponse.errorMsg))\r\n    //     } else {\r\n    //         for (let i = 0; i < getAllStoresResponse.value.length; i++) {\r\n    //             stores.push({\r\n    //                 id: getAllStoresResponse.value[i].storeId,\r\n    //                 name: getAllStoresResponse.value[i].name,\r\n    //                 open: getAllStoresResponse.value[i].isOpen\r\n    //             })\r\n    //         }\r\n    //         Setstores(stores);\r\n    //     }\r\n    // }\r\n    //\r\n    // useEffect(() => {\r\n    //     getAllStores();\r\n    // }, [enteredstores.refresh]);\r\n    // console.log(enteredstores)\r\n\r\n\r\n    async function setSearch(){\r\n        console.log(\"setSearch \")\r\n\r\n        let allpro = allProducts.filter((product) => product.id === parseInt(props.search));\r\n        console.log(\"  allpro  \" +allpro)\r\n\r\n        setallProducts(allpro);\r\n\r\n    }\r\n    // if (props.search != \"\"){\r\n        useEffect(() => {\r\n            if (props.search != \"\"){\r\n                console.log(\"  if (props.search  \")\r\n\r\n                setSearch();\r\n            }\r\n        }, [allProducts.refresh]);\r\n\r\n    // }\r\n\r\n    if (allProducts.length === 0) {\r\n        return <h2 className=\"stores-list__fallback\">Found No expenses</h2>;\r\n    }\r\n    // let allpro='-1'\r\n    // if (props.search != \"\") {\r\n    //      allpro = allProducts.filter((product) => product.id === parseInt(props.search));\r\n    //     // setallProducts(allpro)\r\n    // }\r\n\r\n\r\n    const readMoreHandler = productID => {\r\n        props.onReadMore(productID);\r\n    };\r\n\r\n    let expensesContent = allProducts.map((expense) => (\r\n        <ProductID id={expense.id} name={expense.name} onReadMore={readMoreHandler}/>\r\n    ));\r\n\r\n    // const [searchStore, setStore] = useState(\"\");\r\n\r\n\r\n    return (\r\n        <div>\r\n            <ul className=\"products-list\">{expensesContent}</ul>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ProductList;"],"mappings":"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"},"metadata":{},"sourceType":"module"}