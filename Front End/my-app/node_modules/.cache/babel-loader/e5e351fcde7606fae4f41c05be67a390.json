{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lielk\\\\Documents\\\\GitHub\\\\Market\\\\Front End\\\\my-app\\\\src\\\\components\\\\Bar\\\\Bar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Card from \"../UI/Card\";\nimport \"./Bar.css\";\nimport SignUp from \"./SignUp\";\nimport SignIn from \"./Login\";\nimport { createApiClientHttp } from \"../../client/clientHttp\";\nimport { errorCode } from \"../../ErrorCodeGui\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Bar = props => {\n  _s();\n\n  console.log(\"Bar\");\n  let apiClientHttp = createApiClientHttp();\n  const [enteredError, SetError] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const emailChangeHandler = event => {\n    setEmail(event.target.value);\n  };\n\n  const [password, setPassword] = useState(\"\");\n\n  const passChangeHandler = event => {\n    setPassword(event.target.value);\n  }; //todo: login after that the UUID put on onLogin(<UUID>)\n\n\n  async function loginHandler(event) {\n    event.preventDefault(); // const Response = await apiClientHttp.getAllStores();\n\n    const guestVisitResponse = await apiClientHttp.guestVisit();\n    const loginResponse = await apiClientHttp.login(guestVisitResponse.value, email, password); // const loginResponse = await apiClientHttp.login(guestVisitResponse.value, \"sysManager@gmail.com\", \"Shalom123$\");\n\n    let systemManager = false;\n\n    if (loginResponse.errorMsg !== -1) {\n      SetError(errorCode.get(loginResponse.errorMsg));\n    } else {\n      const isSystemManagerUUIDResponse = await apiClientHttp.isSystemManagerUUID(loginResponse.value);\n\n      if (isSystemManagerUUIDResponse.errorMsg === -1) {\n        systemManager = true;\n      }\n\n      setUserName(email);\n      setIsLogin(true);\n      props.onLogin(loginResponse.value, email, systemManager);\n    }\n\n    console.log(loginResponse);\n  }\n\n  async function logoutHandler(event) {\n    event.preventDefault();\n    const logoutResponse = await apiClientHttp.logout(props.uuid);\n\n    if (logoutResponse.errorMsg !== -1) {\n      SetError(errorCode.get(logoutResponse.errorMsg));\n    } else {\n      setEmail(\"\");\n      setPassword(\"\");\n      props.onLogout(logoutResponse.value);\n      setIsLogin(false);\n    }\n\n    console.log(logoutResponse);\n  }\n\n  const initHandler = () => {\n    props.onInitMarket();\n  };\n\n  const singUpHandler = () => {\n    props.onSignUp();\n  };\n\n  const newUserHolder = userData => {\n    console.log(userData);\n  };\n\n  let command = \"\";\n\n  if (isLogin === false) {\n    command = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bar__controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__control\",\n        children: [/*#__PURE__*/_jsxDEV(\"div\", {\n          style: {\n            color: 'black',\n            position: 'relative',\n            background: '#c51244',\n            display: 'inline-block',\n            fontSize: 15\n          },\n          children: enteredError\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 9\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"User's Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 93,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: email,\n          onChange: emailChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 7\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: password,\n          onChange: passChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 98,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 96,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bar__button\",\n          onClick: loginHandler,\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 101,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signUp__button\",\n          onClick: singUpHandler // onUserData={newUserHolder}\n          ,\n          children: \"Sign-Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 100,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 5\n    }, this);\n  } else {\n    command = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"welcome \", userName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 122,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signUp__button\",\n          onClick: logoutHandler // onUserData={newUserHolder}\n          ,\n          children: \"LogOut\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 124,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 123,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"bar\",\n    children: command\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 136,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Bar, \"2wdyajuoBABH5QhvZoGkxqf6xv0=\");\n\n_c = Bar;\nexport default Bar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bar\");","map":{"version":3,"names":["React","useState","Card","SignUp","SignIn","createApiClientHttp","errorCode","Bar","props","console","log","apiClientHttp","enteredError","SetError","isLogin","setIsLogin","userName","setUserName","email","setEmail","emailChangeHandler","event","target","value","password","setPassword","passChangeHandler","loginHandler","preventDefault","guestVisitResponse","guestVisit","loginResponse","login","systemManager","errorMsg","get","isSystemManagerUUIDResponse","isSystemManagerUUID","onLogin","logoutHandler","logoutResponse","logout","uuid","onLogout","initHandler","onInitMarket","singUpHandler","onSignUp","newUserHolder","userData","command","color","position","background","display","fontSize"],"sources":["C:/Users/lielk/Documents/GitHub/Market/Front End/my-app/src/components/Bar/Bar.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Card from \"../UI/Card\";\r\nimport \"./Bar.css\";\r\nimport SignUp from \"./SignUp\";\r\nimport SignIn from \"./Login\";\r\nimport {createApiClientHttp} from \"../../client/clientHttp\";\r\nimport {errorCode} from \"../../ErrorCodeGui\"\r\nconst Bar = (props) => {\r\n  console.log(\"Bar\")\r\n\r\n  let apiClientHttp = createApiClientHttp();\r\n  const [enteredError, SetError] = useState(\"\");\r\n\r\n  const [isLogin, setIsLogin] = useState(false);\r\n\r\n  const [userName, setUserName] = useState(\"\");\r\n\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const emailChangeHandler = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const passChangeHandler = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n\r\n  //todo: login after that the UUID put on onLogin(<UUID>)\r\n  async function loginHandler(event) {\r\n    event.preventDefault();\r\n    // const Response = await apiClientHttp.getAllStores();\r\n\r\n    const guestVisitResponse = await apiClientHttp.guestVisit();\r\n    const loginResponse = await apiClientHttp.login(guestVisitResponse.value, email, password);\r\n    // const loginResponse = await apiClientHttp.login(guestVisitResponse.value, \"sysManager@gmail.com\", \"Shalom123$\");\r\n\r\n    let systemManager=false;\r\n    if (loginResponse.errorMsg!== -1) {\r\n      SetError(errorCode.get(loginResponse.errorMsg))\r\n    } else {\r\n      const isSystemManagerUUIDResponse = await apiClientHttp.isSystemManagerUUID(loginResponse.value);\r\n\r\n      if (isSystemManagerUUIDResponse.errorMsg=== -1){\r\n        systemManager=true\r\n      }\r\n      setUserName(email);\r\n      setIsLogin(true);\r\n      props.onLogin(loginResponse.value,email,systemManager);\r\n    }\r\n    console.log(loginResponse)\r\n\r\n  }\r\n\r\n  async function logoutHandler(event) {\r\n    event.preventDefault();\r\n    const logoutResponse = await apiClientHttp.logout(props.uuid);\r\n\r\n    if (logoutResponse.errorMsg!== -1) {\r\n      SetError(errorCode.get(logoutResponse.errorMsg))\r\n    } else {\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      props.onLogout(logoutResponse.value);\r\n      setIsLogin(false);\r\n    }\r\n    console.log(logoutResponse)\r\n\r\n  }\r\n\r\n\r\n  const initHandler = () => {\r\n    props.onInitMarket();\r\n  };\r\n\r\n  const singUpHandler = () => {\r\n    props.onSignUp();\r\n  };\r\n\r\n  const newUserHolder = (userData) => {\r\n    console.log(userData);\r\n  };\r\n\r\n  let command = \"\";\r\n  if (isLogin === false) {\r\n    command = (\r\n    <div className=\"bar__controls\">\r\n\r\n      <div className=\"bar__control\">\r\n        <div style={{ color: 'black',position: 'relative',background: '#c51244',display: 'inline-block',fontSize: 15 }}>{enteredError}</div>\r\n\r\n          <label>User's Email</label>\r\n          <input type=\"text\" value={email} onChange={emailChangeHandler} />\r\n        </div>\r\n        <div className=\"bar__control\">\r\n          <label>Password</label>\r\n          <input type=\"text\" value={password} onChange={passChangeHandler} />\r\n        </div>\r\n        <div className=\"bar__actions\">\r\n          <button className=\"bar__button\" onClick={loginHandler} type=\"submit\">\r\n            Login\r\n          </button>\r\n          <button\r\n            className=\"signUp__button\"\r\n            onClick={singUpHandler}\r\n            // onUserData={newUserHolder}\r\n          >\r\n            Sign-Up\r\n          </button>\r\n          {/*<button className=\"bar__button\" onClick={initHandler}>*/}\r\n          {/*  {\" \"}*/}\r\n          {/*  Init-Market*/}\r\n          {/*</button>*/}\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    command = (\r\n      <div>\r\n        <label>welcome {userName}</label>\r\n        <div className=\"bar__actions\">\r\n          <button\r\n            className=\"signUp__button\"\r\n            onClick={logoutHandler}\r\n            // onUserData={newUserHolder}\r\n          >\r\n            LogOut\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Card className=\"bar\">{command}</Card>;\r\n};\r\n\r\nexport default Bar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}