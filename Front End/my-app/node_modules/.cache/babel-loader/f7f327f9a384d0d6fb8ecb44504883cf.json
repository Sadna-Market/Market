{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lielk\\\\Documents\\\\GitHub\\\\Market\\\\Front End\\\\my-app\\\\src\\\\components\\\\Bar\\\\Bar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Card from \"../UI/Card\";\nimport \"./Bar.css\";\nimport SignUp from \"./SignUp\";\nimport SignIn from \"./Login\";\nimport { createApiClientHttp } from \"../../client/clientHttp\";\nimport { errorCode } from \"../../ErrorCodeGui\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Bar = props => {\n  _s();\n\n  console.log(\"Bar\");\n  let apiClientHttp = createApiClientHttp();\n  const [enteredError, SetError] = useState(\"\");\n  const [isLogin, setIsLogin] = useState(false);\n  const [userName, setUserName] = useState(\"\");\n  const [email, setEmail] = useState(\"\");\n\n  const emailChangeHandler = event => {\n    setEmail(event.target.value);\n  };\n\n  const [password, setPassword] = useState(\"\");\n\n  const passChangeHandler = event => {\n    setPassword(event.target.value);\n  }; //todo: login after that the UUID put on onLogin(<UUID>)\n\n\n  async function loginHandler(event) {\n    event.preventDefault(); // const Response = await apiClientHttp.getAllStores();\n\n    const guestVisitResponse = await apiClientHttp.guestVisit(); // const loginResponse = await apiClientHttp.login(guestVisitResponse.value, email, password);\n\n    const loginResponse = await apiClientHttp.login(guestVisitResponse.value, \"sysManager@gmail.com\", \"Shalom123$2\");\n\n    if (loginResponse.errorMsg !== -1) {\n      SetError(errorCode.get(loginResponse.errorMsg));\n    } else {\n      setUserName(email);\n      setIsLogin(true);\n      props.onLogin(loginResponse.value, email);\n    }\n\n    console.log(loginResponse);\n  }\n\n  async function logoutHandler(event) {\n    event.preventDefault();\n    const logoutResponse = await apiClientHttp.logout(props.uuid);\n\n    if (logoutResponse.errorMsg !== -1) {\n      SetError(errorCode.get(logoutResponse.errorMsg));\n    } else {\n      setEmail(\"\");\n      setPassword(\"\");\n      props.onLogout(logoutResponse.value);\n      setIsLogin(false);\n    }\n\n    console.log(logoutResponse);\n  }\n\n  const initHandler = () => {\n    props.onInitMarket();\n  };\n\n  const singUpHandler = () => {\n    props.onSignUp();\n  };\n\n  const newUserHolder = userData => {\n    console.log(userData);\n  };\n\n  let command = \"\";\n\n  if (isLogin === false) {\n    command = /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bar__controls\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: 'red',\n          backgroundColor: \"black\",\n          fontSize: 30\n        },\n        children: enteredError\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 84,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"User's Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: email,\n          onChange: emailChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 85,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Password\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: password,\n          onChange: passChangeHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"bar__button\",\n          onClick: loginHandler,\n          type: \"submit\",\n          children: \"Login\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signUp__button\",\n          onClick: singUpHandler // onUserData={newUserHolder}\n          ,\n          children: \"Sign-Up\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 97,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this);\n  } else {\n    command = /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: [\"welcome \", userName]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 115,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"bar__actions\",\n        children: /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"signUp__button\",\n          onClick: logoutHandler // onUserData={newUserHolder}\n          ,\n          children: \"LogOut\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 116,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this);\n  }\n\n  return /*#__PURE__*/_jsxDEV(Card, {\n    className: \"bar\",\n    children: command\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 129,\n    columnNumber: 10\n  }, this);\n};\n\n_s(Bar, \"2wdyajuoBABH5QhvZoGkxqf6xv0=\");\n\n_c = Bar;\nexport default Bar;\n\nvar _c;\n\n$RefreshReg$(_c, \"Bar\");","map":{"version":3,"names":["React","useState","Card","SignUp","SignIn","createApiClientHttp","errorCode","Bar","props","console","log","apiClientHttp","enteredError","SetError","isLogin","setIsLogin","userName","setUserName","email","setEmail","emailChangeHandler","event","target","value","password","setPassword","passChangeHandler","loginHandler","preventDefault","guestVisitResponse","guestVisit","loginResponse","login","errorMsg","get","onLogin","logoutHandler","logoutResponse","logout","uuid","onLogout","initHandler","onInitMarket","singUpHandler","onSignUp","newUserHolder","userData","command","color","backgroundColor","fontSize"],"sources":["C:/Users/lielk/Documents/GitHub/Market/Front End/my-app/src/components/Bar/Bar.js"],"sourcesContent":["import React, { useState } from \"react\";\r\nimport Card from \"../UI/Card\";\r\nimport \"./Bar.css\";\r\nimport SignUp from \"./SignUp\";\r\nimport SignIn from \"./Login\";\r\nimport {createApiClientHttp} from \"../../client/clientHttp\";\r\nimport {errorCode} from \"../../ErrorCodeGui\"\r\nconst Bar = (props) => {\r\n  console.log(\"Bar\")\r\n\r\n  let apiClientHttp = createApiClientHttp();\r\n  const [enteredError, SetError] = useState(\"\");\r\n\r\n  const [isLogin, setIsLogin] = useState(false);\r\n\r\n  const [userName, setUserName] = useState(\"\");\r\n\r\n\r\n  const [email, setEmail] = useState(\"\");\r\n  const emailChangeHandler = (event) => {\r\n    setEmail(event.target.value);\r\n  };\r\n\r\n  const [password, setPassword] = useState(\"\");\r\n  const passChangeHandler = (event) => {\r\n    setPassword(event.target.value);\r\n  };\r\n\r\n\r\n  //todo: login after that the UUID put on onLogin(<UUID>)\r\n  async function loginHandler(event) {\r\n    event.preventDefault();\r\n    // const Response = await apiClientHttp.getAllStores();\r\n\r\n    const guestVisitResponse = await apiClientHttp.guestVisit();\r\n    // const loginResponse = await apiClientHttp.login(guestVisitResponse.value, email, password);\r\n    const loginResponse = await apiClientHttp.login(guestVisitResponse.value, \"sysManager@gmail.com\", \"Shalom123$2\");\r\n\r\n\r\n    if (loginResponse.errorMsg!== -1) {\r\n      SetError(errorCode.get(loginResponse.errorMsg))\r\n    } else {\r\n      setUserName(email);\r\n      setIsLogin(true);\r\n      props.onLogin(loginResponse.value,email);\r\n    }\r\n    console.log(loginResponse)\r\n\r\n  }\r\n\r\n  async function logoutHandler(event) {\r\n    event.preventDefault();\r\n    const logoutResponse = await apiClientHttp.logout(props.uuid);\r\n\r\n    if (logoutResponse.errorMsg!== -1) {\r\n      SetError(errorCode.get(logoutResponse.errorMsg))\r\n    } else {\r\n      setEmail(\"\");\r\n      setPassword(\"\");\r\n      props.onLogout(logoutResponse.value);\r\n      setIsLogin(false);\r\n    }\r\n    console.log(logoutResponse)\r\n\r\n  }\r\n\r\n\r\n  const initHandler = () => {\r\n    props.onInitMarket();\r\n  };\r\n\r\n  const singUpHandler = () => {\r\n    props.onSignUp();\r\n  };\r\n\r\n  const newUserHolder = (userData) => {\r\n    console.log(userData);\r\n  };\r\n\r\n  let command = \"\";\r\n  if (isLogin === false) {\r\n    command = (\r\n      <div className=\"bar__controls\">\r\n        <div style={{ color: 'red',backgroundColor: \"black\",fontSize: 30 }}>{enteredError}</div>\r\n        <div className=\"bar__control\">\r\n          <label>User's Email</label>\r\n          <input type=\"text\" value={email} onChange={emailChangeHandler} />\r\n        </div>\r\n        <div className=\"bar__control\">\r\n          <label>Password</label>\r\n          <input type=\"text\" value={password} onChange={passChangeHandler} />\r\n        </div>\r\n        <div className=\"bar__actions\">\r\n          <button className=\"bar__button\" onClick={loginHandler} type=\"submit\">\r\n            Login\r\n          </button>\r\n          <button\r\n            className=\"signUp__button\"\r\n            onClick={singUpHandler}\r\n            // onUserData={newUserHolder}\r\n          >\r\n            Sign-Up\r\n          </button>\r\n          {/*<button className=\"bar__button\" onClick={initHandler}>*/}\r\n          {/*  {\" \"}*/}\r\n          {/*  Init-Market*/}\r\n          {/*</button>*/}\r\n\r\n        </div>\r\n      </div>\r\n    );\r\n  } else {\r\n    command = (\r\n      <div>\r\n        <label>welcome {userName}</label>\r\n        <div className=\"bar__actions\">\r\n          <button\r\n            className=\"signUp__button\"\r\n            onClick={logoutHandler}\r\n            // onUserData={newUserHolder}\r\n          >\r\n            LogOut\r\n          </button>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  return <Card className=\"bar\">{command}</Card>;\r\n};\r\n\r\nexport default Bar;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}