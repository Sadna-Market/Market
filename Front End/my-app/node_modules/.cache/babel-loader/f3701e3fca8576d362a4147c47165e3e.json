{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lielk\\\\Documents\\\\GitHub\\\\Market\\\\Front End\\\\my-app\\\\src\\\\components\\\\Store\\\\BID\\\\MainBID.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport BIDItem from \"./BIDItem\";\nimport createApiClientHttp from \"../../../client/clientHttp.js\";\nimport { errorCode } from \"../../../ErrorCodeGui\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst MainBID = props => {\n  _s();\n\n  console.log(\"MainBID\");\n  const apiClientHttp = createApiClientHttp();\n  const [enteredError, SetError] = useState(\"\");\n  const [products, Setproducts] = useState([]);\n  let UUID = props.uuid; //todo: get all my products\n\n  async function getAllProducts() {\n    let allProducts = [];\n    const getAllProductsInStoreResponse = await apiClientHttp.getAllProductsInStore(props.storeID);\n    console.log(\"start func  getAllProducts\");\n    console.log(getAllProductsInStoreResponse);\n\n    if (getAllProductsInStoreResponse.errorMsg !== -1) {\n      SetError(errorCode.get(getAllProductsInStoreResponse.errorMsg));\n    } else {\n      for (let i = 0; i < getAllProductsInStoreResponse.value.length; i++) {\n        allProducts.push({\n          id: getAllProductsInStoreResponse.value[i].itemID,\n          name: getAllProductsInStoreResponse.value[i].name,\n          price: getAllProductsInStoreResponse.value[i].price,\n          quantity: getAllProductsInStoreResponse.value[i].quantity\n        });\n      }\n\n      console.log(\":allProducts. \" + allProducts);\n      let str = JSON.stringify(getAllProductsInStoreResponse);\n      console.log(\":str. \" + str);\n      SetError(\"\");\n      Setproducts(allProducts);\n    }\n  }\n\n  useEffect(() => {\n    getAllProducts();\n  }, [products.refresh]); // let products = [\n  //   { id: 1, name: \"Sony 5\", price: Math.random() * 100 },\n  //   { id: 2, name: \"TV\", price: Math.random() * 100 },\n  //   { id: 3, name: \"Car KIA RIO\", price: Math.random() * 100 },\n  //   { id: 4, name: \"AC/DC\", price: Math.random() * 100, amount: 7 },\n  //   { id: 5, name: \"MAMA Yokero\", price: Math.random() * 100 },\n  //   { id: 6, name: \"Iphone 13\", price: Math.random() * 100 },\n  // ];\n\n  let sum = 0;\n\n  for (let i = 0; i < allProducts.length; i++) {\n    sum += products[i].price * products[i].amount;\n  }\n\n  const [total, setTatal] = useState(sum);\n\n  const cancelHandler = price => {\n    setTatal(total - price);\n  };\n\n  let productIDs = products.map(expense => /*#__PURE__*/_jsxDEV(BIDItem, {\n    id: expense.id,\n    name: expense.name,\n    price: expense.price,\n    onCancel: cancelHandler,\n    uuid: UUID\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 65,\n    columnNumber: 5\n  }, this));\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"products-list\",\n      children: productIDs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 76,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 75,\n    columnNumber: 5\n  }, this);\n};\n\n_s(MainBID, \"hUjDIa+HLAI1jmJhWJfqCzdEckA=\");\n\n_c = MainBID;\nexport default MainBID;\n\nvar _c;\n\n$RefreshReg$(_c, \"MainBID\");","map":{"version":3,"names":["React","useEffect","useState","BIDItem","createApiClientHttp","errorCode","MainBID","props","console","log","apiClientHttp","enteredError","SetError","products","Setproducts","UUID","uuid","getAllProducts","allProducts","getAllProductsInStoreResponse","getAllProductsInStore","storeID","errorMsg","get","i","value","length","push","id","itemID","name","price","quantity","str","JSON","stringify","refresh","sum","amount","total","setTatal","cancelHandler","productIDs","map","expense"],"sources":["C:/Users/lielk/Documents/GitHub/Market/Front End/my-app/src/components/Store/BID/MainBID.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport BIDItem from \"./BIDItem\";\r\nimport createApiClientHttp from \"../../../client/clientHttp.js\";\r\nimport {errorCode} from \"../../../ErrorCodeGui\"\r\nconst MainBID = (props) => {\r\n  console.log(\"MainBID\")\r\n  const apiClientHttp = createApiClientHttp();\r\n  const [enteredError, SetError] = useState(\"\");\r\n  const [products, Setproducts] = useState([]);\r\n\r\n  let UUID = props.uuid;\r\n  //todo: get all my products\r\n  async function getAllProducts() {\r\n    let allProducts = [];\r\n\r\n    const getAllProductsInStoreResponse = await apiClientHttp.getAllProductsInStore(props.storeID);\r\n    console.log(\"start func  getAllProducts\")\r\n    console.log(getAllProductsInStoreResponse)\r\n\r\n    if (getAllProductsInStoreResponse.errorMsg !== -1) {\r\n      SetError(errorCode.get(getAllProductsInStoreResponse.errorMsg))\r\n    } else {\r\n      for (let i = 0; i < getAllProductsInStoreResponse.value.length; i++) {\r\n        allProducts.push({\r\n          id: getAllProductsInStoreResponse.value[i].itemID,\r\n          name: getAllProductsInStoreResponse.value[i].name,\r\n          price: getAllProductsInStoreResponse.value[i].price,\r\n          quantity: getAllProductsInStoreResponse.value[i].quantity\r\n\r\n        })\r\n      }\r\n\r\n      console.log(\":allProducts. \" +allProducts)\r\n      let str = JSON.stringify(getAllProductsInStoreResponse);\r\n      console.log(\":str. \" + str)\r\n      SetError(\"\")\r\n      Setproducts(allProducts);\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    getAllProducts();\r\n  }, [products.refresh]);\r\n\r\n  // let products = [\r\n  //   { id: 1, name: \"Sony 5\", price: Math.random() * 100 },\r\n  //   { id: 2, name: \"TV\", price: Math.random() * 100 },\r\n  //   { id: 3, name: \"Car KIA RIO\", price: Math.random() * 100 },\r\n  //   { id: 4, name: \"AC/DC\", price: Math.random() * 100, amount: 7 },\r\n  //   { id: 5, name: \"MAMA Yokero\", price: Math.random() * 100 },\r\n  //   { id: 6, name: \"Iphone 13\", price: Math.random() * 100 },\r\n  // ];\r\n  let sum = 0;\r\n  for (let i = 0; i < allProducts.length; i++) {\r\n    sum += products[i].price * products[i].amount;\r\n  }\r\n\r\n  const [total, setTatal] = useState(sum);\r\n\r\n  const cancelHandler = (price) => {\r\n    setTatal(total - price);\r\n  };\r\n\r\n  let productIDs = products.map((expense) => (\r\n    <BIDItem\r\n      id={expense.id}\r\n      name={expense.name}\r\n      price={expense.price}\r\n      onCancel={cancelHandler}\r\n      uuid={UUID}\r\n    />\r\n  ));\r\n\r\n  return (\r\n    <div>\r\n      <ul className=\"products-list\">{productIDs}</ul>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default MainBID;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}