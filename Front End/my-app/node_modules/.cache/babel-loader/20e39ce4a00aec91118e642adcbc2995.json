{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lielk\\\\Documents\\\\GitHub\\\\Market\\\\Front End\\\\my-app\\\\src\\\\components\\\\Manager\\\\ManagerButton.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport Users from \"./Users\";\nimport ConnectUsers from \"./Users\"; // import DisConnectUsers from \"./DisConnectUsers\";\n// import NewProductType from \"./NewProductType\";\n// import RemoveUser from \"./RemoveUser\";\n\nimport NewProductType from \"./NewProductType\";\nimport UserList from \"./UserList\";\nimport createApiClientHttp from \"../../client/clientHttp.js\";\nimport { errorCode } from \"../../ErrorCodeGui\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst ManagerButton = props => {\n  _s();\n\n  console.log(\"ManagerButton\");\n  const [email, Setemail] = useState(\"\");\n\n  const changeEmailHandler = event => {\n    Setemail(event.target.value);\n  };\n\n  const [enteredHistory, SetHistory] = useState([]);\n  const apiClientHttp = createApiClientHttp();\n  const [enteredError, SetError] = useState(\"\");\n  let UUID = props.uuid;\n  const [command, setCommand] = useState(\"\");\n\n  const addProductHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(NewProductType, {\n      uuid: UUID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 30,\n      columnNumber: 20\n    }, this));\n  };\n\n  const connectUsersHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(Users, {\n      uuid: UUID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 34,\n      columnNumber: 20\n    }, this));\n  };\n\n  async function AllUsersHistoryHander() {\n    let History = []; // setCommand(\"No History\");\n\n    console.log(\"historyHander UUID  \" + UUID + \"email \" + email + \"end \");\n    const getUserInfoResponse = await apiClientHttp.getUserInfo(UUID, email); //it return  user x history!!!!\n\n    if (getUserInfoResponse.errorMsg !== -1) {\n      SetError(errorCode.get(getUserInfoResponse.errorMsg));\n    } else {\n      let str = JSON.stringify(getUserInfoResponse);\n      console.log(\"vhistoryHander getUserInfoResponse 1 \" + getUserInfoResponse.value);\n\n      if (getUserInfoResponse.value.length > 0) {\n        console.log(\" 1 \");\n      } else {\n        console.log(\" 2\");\n        History.push({\n          history: \"No history yet\"\n        });\n      }\n\n      for (let i = 0; i < getUserInfoResponse.value.length; i++) {\n        for (let k = 0; k < getUserInfoResponse.value[i].length; k++) {\n          console.log(getUserInfoResponse.value[i][k]);\n          console.log(getUserInfoResponse.value[i][k].finalPrice);\n          console.log(getUserInfoResponse.value[i][k].products);\n          let products = getUserInfoResponse.value[i][k].products;\n\n          for (let j = 0; j < products.length; j++) {\n            console.log(products[j].itemID);\n            console.log(products[j].name);\n            console.log(products[j].price);\n            console.log(products[j].quantity);\n            History.push({\n              TID: getUserInfoResponse.value[i][k].TID,\n              finalPrice: getUserInfoResponse.value[i][k].finalPrice,\n              itemID: products[j].itemID,\n              // name: products[j].name,\n              price: products[j].price,\n              quantity: products[j].quantity\n            });\n          }\n        }\n      }\n\n      SetHistory(History);\n      SetError(\"\");\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 90,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addProductHandler,\n        children: \"Add Product to Market\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 91,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: connectUsersHandler,\n        children: \"Users\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"products__control\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: email,\n          placeholder: \"Write Email\",\n          onChange: changeEmailHandler\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 96,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: AllUsersHistoryHander,\n          children: \" search history for user\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 102,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: command\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 88,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ManagerButton, \"I9bRtYwkiVEELZzpWQIwpAk9dzU=\");\n\n_c = ManagerButton;\nexport default ManagerButton;\n\nvar _c;\n\n$RefreshReg$(_c, \"ManagerButton\");","map":{"version":3,"names":["React","useState","Users","ConnectUsers","NewProductType","UserList","createApiClientHttp","errorCode","ManagerButton","props","console","log","email","Setemail","changeEmailHandler","event","target","value","enteredHistory","SetHistory","apiClientHttp","enteredError","SetError","UUID","uuid","command","setCommand","addProductHandler","connectUsersHandler","AllUsersHistoryHander","History","getUserInfoResponse","getUserInfo","errorMsg","get","str","JSON","stringify","length","push","history","i","k","finalPrice","products","j","itemID","name","price","quantity","TID"],"sources":["C:/Users/lielk/Documents/GitHub/Market/Front End/my-app/src/components/Manager/ManagerButton.js"],"sourcesContent":["import React, {useState} from \"react\";\r\nimport Users from \"./Users\";\r\nimport ConnectUsers from \"./Users\";\r\n// import DisConnectUsers from \"./DisConnectUsers\";\r\n// import NewProductType from \"./NewProductType\";\r\n// import RemoveUser from \"./RemoveUser\";\r\nimport NewProductType from \"./NewProductType\";\r\n\r\nimport UserList from \"./UserList\";\r\nimport createApiClientHttp from \"../../client/clientHttp.js\";\r\nimport {errorCode} from \"../../ErrorCodeGui\"\r\n\r\nconst ManagerButton = (props) => {\r\n    console.log(\"ManagerButton\")\r\n    const [email, Setemail] = useState(\"\");\r\n\r\n    const changeEmailHandler = (event) => {\r\n        Setemail(event.target.value);\r\n    };\r\n    const [enteredHistory, SetHistory] = useState([]);\r\n\r\n    const apiClientHttp = createApiClientHttp();\r\n    const [enteredError, SetError] = useState(\"\");\r\n\r\n    let UUID = props.uuid;\r\n    const [command, setCommand] = useState(\"\");\r\n\r\n\r\n    const addProductHandler = () => {\r\n        setCommand(<NewProductType uuid={UUID}/>);\r\n    };\r\n\r\n    const connectUsersHandler = () => {\r\n        setCommand(<Users uuid={UUID}/>);\r\n    };\r\n    async function AllUsersHistoryHander() {\r\n        let History = [];\r\n        // setCommand(\"No History\");\r\n        console.log(\"historyHander UUID  \" + UUID + \"email \" + email + \"end \")\r\n        const getUserInfoResponse = await apiClientHttp.getUserInfo(UUID, email); //it return  user x history!!!!\r\n        if (getUserInfoResponse.errorMsg !== -1) {\r\n            SetError(errorCode.get(getUserInfoResponse.errorMsg))\r\n        } else {\r\n            let str = JSON.stringify(getUserInfoResponse);\r\n            console.log(\"vhistoryHander getUserInfoResponse 1 \" + getUserInfoResponse.value)\r\n            if (getUserInfoResponse.value.length > 0) {\r\n                console.log(\" 1 \"  )\r\n\r\n            }\r\n            else{\r\n                console.log(\" 2\"  )\r\n\r\n                History.push({\r\n                    history: \"No history yet\"\r\n                })\r\n            }\r\n            for (let i = 0; i < getUserInfoResponse.value.length; i++)\r\n            {\r\n                for (let k = 0; k < getUserInfoResponse.value[i].length; k++) {\r\n\r\n                    console.log(getUserInfoResponse.value[i][k])\r\n                    console.log(getUserInfoResponse.value[i][k].finalPrice)\r\n                    console.log(getUserInfoResponse.value[i][k].products)\r\n                    let products = getUserInfoResponse.value[i][k].products\r\n                    for (let j = 0; j < products.length; j++) {\r\n                        console.log(products[j].itemID)\r\n                        console.log(products[j].name)\r\n                        console.log(products[j].price)\r\n                        console.log(products[j].quantity)\r\n                        History.push({\r\n                            TID: getUserInfoResponse.value[i][k].TID,\r\n                            finalPrice: getUserInfoResponse.value[i][k].finalPrice,\r\n                            itemID: products[j].itemID,\r\n                            // name: products[j].name,\r\n                            price: products[j].price,\r\n                            quantity: products[j].quantity,\r\n                        })\r\n                    }\r\n                }\r\n            }\r\n            SetHistory(History)\r\n            SetError(\"\")\r\n        }\r\n\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <div>\r\n                <h3>Manager</h3>\r\n                <button onClick={addProductHandler}>Add Product to Market</button>\r\n                <button onClick={connectUsersHandler}>Users</button>\r\n                <h3></h3>\r\n                <div className=\"products__control\">\r\n                    <label>Email</label>\r\n                    <input\r\n                        type=\"text\"\r\n                        value={email}\r\n                        placeholder=\"Write Email\"\r\n                        onChange={changeEmailHandler}\r\n                    />\r\n                    <button onClick={AllUsersHistoryHander}> search history for user</button>\r\n\r\n                </div>\r\n            </div>\r\n            <div>\r\n                {command}\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default ManagerButton;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module"}