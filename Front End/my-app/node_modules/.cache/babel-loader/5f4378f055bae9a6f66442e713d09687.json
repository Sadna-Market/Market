{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\lielk\\\\Documents\\\\GitHub\\\\Market\\\\Front End\\\\my-app\\\\src\\\\components\\\\Store\\\\Store.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport ProductInStoreList from \"../Product/ProductInStoreList\";\nimport NewProductInStore from \"./NewProductInStore\";\nimport RemoveProduct from \"./RemoveProduct\";\nimport EditProduct from \"./EditProduct\";\nimport AddManager from \"./AddManager\";\nimport EditPermission from \"./EditPermission\";\nimport CloseStore from \"./closeStore\";\nimport Rules from \"./Rules\";\nimport HistoryInStore from \"./HistoryInStore\";\nimport RemoveManager from \"./RemoveManager\";\nimport PolicyStore from \"./DiscountPolicy\";\nimport BuyingPolicy from \"./BuyingPolicy\";\nimport DiscountPolicy from \"./DiscountPolicy\";\nimport \"./Store.css\";\nimport { createApiClientHttp } from \"../../client/clientHttp\";\nimport { errorCode } from \"../../ErrorCodeGui\";\nimport BID from \"./BID/BID\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nconst Store = props => {\n  _s();\n\n  let apiClientHttp = createApiClientHttp();\n  const [enteredError, SetError] = useState(\"\");\n  console.log(\"Store\");\n  let storeID = props.storeID;\n  let UUID = props.uuid;\n  const [name, Setname] = useState(\"\");\n  const [founder, Setfounder] = useState(\"\");\n  const [isOpen, SetisOpen] = useState(\"\");\n  const [rate, Setrate] = useState(\"\");\n  const [isOwner, SetisOwner] = useState(false);\n  const [isManager, SetisManager] = useState(false);\n  const [isFounder, SetisFounder] = useState(false);\n  const [tempRateMe, settempRateMe] = useState();\n\n  const rateHandler = event => {\n    settempRateMe(event.target.value);\n  };\n\n  console.log(\"UUID \" + UUID);\n\n  async function getStoreInfo() {\n    let stores = [];\n    const getStoreInfoResponse = await apiClientHttp.getStoreInfo(storeID);\n    let str = JSON.stringify(getStoreInfoResponse);\n    console.log(\"getStoreInfoResponse    \" + str);\n\n    if (getStoreInfoResponse.errorMsg !== -1) {\n      SetError(errorCode.get(getStoreInfoResponse.errorMsg));\n    } else {\n      console.log(getStoreInfoResponse.value.name, getStoreInfoResponse.value.founder, getStoreInfoResponse.value.rate, getStoreInfoResponse.value.isOpen);\n      Setname(getStoreInfoResponse.value.name);\n      Setfounder(getStoreInfoResponse.value.founder);\n      Setrate(getStoreInfoResponse.value.rate);\n      if (getStoreInfoResponse.value.isOpen) SetisOpen(\"the store is open\");else {\n        SetisOpen(\"the store is close\");\n      }\n      console.log(\"storesSSSS \" + stores);\n      SetError(\"\");\n      const isOwnerUUIDResponse = await apiClientHttp.isOwnerUUID(UUID, storeID);\n      let str = JSON.stringify(isOwnerUUIDResponse);\n      console.log(\"isOwnerUUIDResponse    \" + str);\n\n      if (isOwnerUUIDResponse.errorMsg !== -1) {\n        SetError(errorCode.get(isOwnerUUIDResponse.errorMsg));\n      } else {\n        SetisOwner(isOwnerUUIDResponse.value);\n      }\n\n      const isManagerUUIDResponse = await apiClientHttp.isManagerUUID(UUID, storeID);\n      let str2 = JSON.stringify(isManagerUUIDResponse);\n      console.log(\"isManagerUUIDResponse    \" + str2);\n\n      if (isManagerUUIDResponse.errorMsg !== -1) {\n        SetError(errorCode.get(isManagerUUIDResponse.errorMsg));\n      } else {\n        SetisManager(isManagerUUIDResponse.value);\n      }\n\n      const isFounderUUIDResponse = await apiClientHttp.isFounderUUID(UUID, storeID);\n      let str3 = JSON.stringify(isFounderUUIDResponse);\n      console.log(\"isFounderUUIDResponse    \" + str3);\n\n      if (isFounderUUIDResponse.errorMsg !== -1) {\n        SetError(errorCode.get(isFounderUUIDResponse.errorMsg));\n      } else {\n        SetisFounder(isFounderUUIDResponse.value);\n      }\n    }\n  }\n\n  useEffect(() => {\n    getStoreInfo();\n  }, [name.refresh]); //todo: get info\n  // call to func that take store id and return all this\n\n  async function rateClickHandler() {\n    const setRateResponse = await apiClientHttp.newStoreRate(props.uuid, storeID, tempRateMe);\n    let str = JSON.stringify(setRateResponse);\n\n    if (setRateResponse.errorMsg !== -1) {\n      SetError(errorCode.get(setRateResponse.errorMsg));\n    } else {\n      const getRateResponse = await apiClientHttp.getStoreRate(props.uuid, storeID);\n      console.log('getRateResponse', getRateResponse);\n\n      if (getRateResponse.errorMsg !== -1) {\n        SetError(errorCode.get(getRateResponse.errorMsg));\n      } else {\n        Setrate(getRateResponse.value);\n      }\n    }\n  }\n\n  ;\n\n  const addProductHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(NewProductInStore, {\n      uuid: UUID,\n      storeID: storeID,\n      onStore: returnToStore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 125,\n      columnNumber: 13\n    }, this));\n  };\n\n  const returnToStore = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Founder: \", founder]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 136,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Rate: \", rate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: /*#__PURE__*/_jsxDEV(ProductInStoreList, {\n          uuid: UUID,\n          storeID: storeID\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 139,\n          columnNumber: 21\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 138,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true));\n  };\n\n  const removeProductHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(RemoveProduct, {\n      uuid: UUID,\n      storeID: storeID,\n      onStore: returnToStore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 147,\n      columnNumber: 13\n    }, this));\n  };\n\n  const editProductHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(EditProduct, {\n      uuid: UUID,\n      storeID: storeID,\n      onStore: returnToStore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 153,\n      columnNumber: 13\n    }, this));\n  };\n\n  const addManagerHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(AddManager, {\n      uuid: UUID,\n      storeID: storeID,\n      onStore: returnToStore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 158,\n      columnNumber: 13\n    }, this));\n  };\n\n  const removeManagerHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(RemoveManager, {\n      uuid: UUID,\n      storeID: storeID,\n      onStore: returnToStore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 13\n    }, this));\n  };\n\n  const editPermissionHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(EditPermission, {\n      uuid: UUID,\n      storeID: storeID,\n      onStore: returnToStore\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 170,\n      columnNumber: 13\n    }, this));\n  }; //todo: check that hasParmission!!!! to like in the storlist eith refresh ..\n  // check if uuid is pwner\n  // if (isOwner){\n\n\n  const closeStoreHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(CloseStore, {\n      uuid: UUID,\n      storeID: storeID,\n      onMarket: () => props.onMarket()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 179,\n      columnNumber: 13\n    }, this));\n  }; // }\n\n\n  const historyHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(HistoryInStore, {\n      uuid: UUID,\n      storeID: storeID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 188,\n      columnNumber: 20\n    }, this));\n  };\n\n  const policyHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(DiscountPolicy, {\n      uuid: UUID,\n      storeID: storeID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 20\n    }, this));\n  };\n\n  const buyingHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(BuyingPolicy, {\n      uuid: UUID,\n      storeID: storeID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 20\n    }, this));\n  }; // const [permission, setPermission] = useState(\"\");\n\n\n  let permission = \"\"; //check ig uuid is manager in this store\n\n  if (isFounder) {\n    permission = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: rulesHandler,\n        children: \"Rules\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 205,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addProductHandler,\n        children: \" Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeProductHandler,\n        children: \" Remove Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 207,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: editProductHandler,\n        children: \" Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 208,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addManagerHandler,\n        children: \" Add Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 209,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeManagerHandler,\n        children: \" Remove Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: editPermissionHandler,\n        children: \" Edit Permission\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 211,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 212,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: closeStoreHandler,\n        children: \" Close Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 213,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: historyHandler,\n        children: \" History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 214,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: policyHandler,\n        children: \" Discount Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: buyingHandler,\n        children: \" Buy Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 216,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  } else if (isOwner) {\n    permission = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: rulesHandler,\n        children: \"Rules\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addProductHandler,\n        children: \" Add Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeProductHandler,\n        children: \" Remove Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: editProductHandler,\n        children: \" Edit Product\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 226,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: addManagerHandler,\n        children: \" Add Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 227,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: removeManagerHandler,\n        children: \" Remove Manager\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 228,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: editPermissionHandler,\n        children: \" Edit Permission\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 229,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 230,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: historyHandler,\n        children: \" History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 232,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: policyHandler,\n        children: \" Discount Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 233,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: buyingHandler,\n        children: \" Buy Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 234,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  } else if (isManager) {\n    permission = /*#__PURE__*/_jsxDEV(_Fragment, {\n      children: [/*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: rulesHandler,\n        children: \"Rules\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 242,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 249,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: historyHandler,\n        children: \" History\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 250,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: policyHandler,\n        children: \" Discount Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 251,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: buyingHandler,\n        children: \" Buy Policy\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 252,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true);\n  }\n\n  const [command, setCommand] = useState( /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: /*#__PURE__*/_jsxDEV(\"div\", {\n      children: /*#__PURE__*/_jsxDEV(ProductInStoreList, {\n        uuid: UUID,\n        storeID: storeID\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 17\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 260,\n      columnNumber: 13\n    }, this)\n  }, void 0, false));\n\n  async function rulesHandler() {\n    console.log(\":UUID \" + UUID + \"storeID \" + storeID);\n    const getStoreRolesResponse = await apiClientHttp.getStoreRoles(UUID, storeID);\n\n    if (getStoreRolesResponse.errorMsg !== -1) {\n      SetError(errorCode.get(getStoreRolesResponse.errorMsg));\n    } else {\n      // console.log(\":getStoreRolesResponse. \"+ getStoreRolesResponse[0].type)\n      console.log(\":getStoreRolesResponse.value22 \" + getStoreRolesResponse);\n      let str = JSON.stringify(getStoreRolesResponse); //:getStoreRolesResponse.value {\"errorMsg\":-1,\"value\":{\"owner\":[\"sysManager@gmail.com\"],\"manager\":[],\"founder\":[\"1dfssdf\"]}}\n\n      console.log(\":getStoreRolesResponse.value \" + str); // getStoreRolesResponse.value\n\n      setCommand( /*#__PURE__*/_jsxDEV(Rules, {\n        uuid: UUID,\n        storeID: storeID,\n        rules: getStoreRolesResponse.value\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 280,\n        columnNumber: 24\n      }, this));\n    }\n  }\n\n  const BIDHandler = () => {\n    setCommand( /*#__PURE__*/_jsxDEV(BID, {\n      uuid: UUID,\n      storeID: storeID\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 287,\n      columnNumber: 20\n    }, this));\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"store\",\n    children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n      children: name\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 292,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: isOpen\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 293,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Founder: \", founder]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 295,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n        children: [\"Rate: \", rate]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 296,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 294,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: BIDHandler,\n      children: \"BID\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 298,\n      columnNumber: 13\n    }, this), permission, /*#__PURE__*/_jsxDEV(\"div\", {\n      children: command\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 300,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"bar__control\",\n      children: [/*#__PURE__*/_jsxDEV(\"label\", {\n        children: \"Rate Store\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 302,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"number\",\n        min: \"0\",\n        max: \"10\",\n        value: tempRateMe,\n        onChange: rateHandler,\n        placeholder: \"1-10\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 303,\n        columnNumber: 17\n      }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: rateClickHandler,\n        children: \"Rate\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 311,\n        columnNumber: 17\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 301,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 291,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Store, \"TUJ563ywW5IIz6RFX4axWKCs6s4=\");\n\n_c = Store;\nexport default Store;\n\nvar _c;\n\n$RefreshReg$(_c, \"Store\");","map":{"version":3,"names":["React","useEffect","useState","ProductInStoreList","NewProductInStore","RemoveProduct","EditProduct","AddManager","EditPermission","CloseStore","Rules","HistoryInStore","RemoveManager","PolicyStore","BuyingPolicy","DiscountPolicy","createApiClientHttp","errorCode","BID","Store","props","apiClientHttp","enteredError","SetError","console","log","storeID","UUID","uuid","name","Setname","founder","Setfounder","isOpen","SetisOpen","rate","Setrate","isOwner","SetisOwner","isManager","SetisManager","isFounder","SetisFounder","tempRateMe","settempRateMe","rateHandler","event","target","value","getStoreInfo","stores","getStoreInfoResponse","str","JSON","stringify","errorMsg","get","isOwnerUUIDResponse","isOwnerUUID","isManagerUUIDResponse","isManagerUUID","str2","isFounderUUIDResponse","isFounderUUID","str3","refresh","rateClickHandler","setRateResponse","newStoreRate","getRateResponse","getStoreRate","addProductHandler","setCommand","returnToStore","removeProductHandler","editProductHandler","addManagerHandler","removeManagerHandler","editPermissionHandler","closeStoreHandler","onMarket","historyHandler","policyHandler","buyingHandler","permission","rulesHandler","command","getStoreRolesResponse","getStoreRoles","BIDHandler"],"sources":["C:/Users/lielk/Documents/GitHub/Market/Front End/my-app/src/components/Store/Store.js"],"sourcesContent":["import React, {useEffect, useState} from \"react\";\r\nimport ProductInStoreList from \"../Product/ProductInStoreList\";\r\nimport NewProductInStore from \"./NewProductInStore\";\r\nimport RemoveProduct from \"./RemoveProduct\";\r\nimport EditProduct from \"./EditProduct\";\r\nimport AddManager from \"./AddManager\";\r\nimport EditPermission from \"./EditPermission\";\r\nimport CloseStore from \"./closeStore\";\r\nimport Rules from \"./Rules\";\r\nimport HistoryInStore from \"./HistoryInStore\";\r\nimport RemoveManager from \"./RemoveManager\";\r\nimport PolicyStore from \"./DiscountPolicy\";\r\nimport BuyingPolicy from \"./BuyingPolicy\";\r\nimport DiscountPolicy from \"./DiscountPolicy\";\r\nimport \"./Store.css\";\r\nimport {createApiClientHttp} from \"../../client/clientHttp\";\r\nimport {errorCode} from \"../../ErrorCodeGui\"\r\nimport BID from \"./BID/BID\";\r\n\r\n\r\nconst Store = (props) => {\r\n\r\n    let apiClientHttp = createApiClientHttp();\r\n    const [enteredError, SetError] = useState(\"\");\r\n    console.log(\"Store\")\r\n\r\n    let storeID = props.storeID;\r\n    let UUID = props.uuid;\r\n    const [name, Setname] = useState(\"\");\r\n    const [founder, Setfounder] = useState(\"\");\r\n    const [isOpen, SetisOpen] = useState(\"\");\r\n    const [rate, Setrate] = useState(\"\");\r\n    const [isOwner, SetisOwner] = useState(false);\r\n    const [isManager, SetisManager] = useState(false);\r\n    const [isFounder, SetisFounder] = useState(false);\r\n\r\n    const [tempRateMe, settempRateMe] = useState();\r\n\r\n    const rateHandler = event => {\r\n        settempRateMe(event.target.value);\r\n    };\r\n    console.log(\"UUID \" + UUID)\r\n\r\n    async function getStoreInfo() {\r\n        let stores = [];\r\n\r\n        const getStoreInfoResponse = await apiClientHttp.getStoreInfo(storeID);\r\n        let str = JSON.stringify(getStoreInfoResponse);\r\n        console.log(\"getStoreInfoResponse    \" + str)\r\n\r\n        if (getStoreInfoResponse.errorMsg !== -1) {\r\n            SetError(errorCode.get(getStoreInfoResponse.errorMsg))\r\n        } else {\r\n            console.log(getStoreInfoResponse.value.name, getStoreInfoResponse.value.founder, getStoreInfoResponse.value.rate, getStoreInfoResponse.value.isOpen)\r\n            Setname(getStoreInfoResponse.value.name)\r\n            Setfounder(getStoreInfoResponse.value.founder)\r\n            Setrate(getStoreInfoResponse.value.rate)\r\n            if (getStoreInfoResponse.value.isOpen)\r\n                SetisOpen(\"the store is open\")\r\n            else {\r\n                SetisOpen(\"the store is close\")\r\n\r\n            }\r\n\r\n            console.log(\"storesSSSS \" + stores)\r\n            SetError(\"\")\r\n            const isOwnerUUIDResponse = await apiClientHttp.isOwnerUUID(UUID, storeID);\r\n            let str = JSON.stringify(isOwnerUUIDResponse);\r\n            console.log(\"isOwnerUUIDResponse    \" + str)\r\n\r\n            if (isOwnerUUIDResponse.errorMsg !== -1) {\r\n                SetError(errorCode.get(isOwnerUUIDResponse.errorMsg))\r\n            } else {\r\n                SetisOwner(isOwnerUUIDResponse.value)\r\n            }\r\n            const isManagerUUIDResponse = await apiClientHttp.isManagerUUID(UUID, storeID);\r\n            let str2 = JSON.stringify(isManagerUUIDResponse);\r\n            console.log(\"isManagerUUIDResponse    \" + str2)\r\n\r\n            if (isManagerUUIDResponse.errorMsg !== -1) {\r\n                SetError(errorCode.get(isManagerUUIDResponse.errorMsg))\r\n            } else {\r\n                SetisManager(isManagerUUIDResponse.value)\r\n            }\r\n            const isFounderUUIDResponse = await apiClientHttp.isFounderUUID(UUID, storeID);\r\n            let str3 = JSON.stringify(isFounderUUIDResponse);\r\n            console.log(\"isFounderUUIDResponse    \" + str3)\r\n\r\n            if (isFounderUUIDResponse.errorMsg !== -1) {\r\n                SetError(errorCode.get(isFounderUUIDResponse.errorMsg))\r\n            } else {\r\n                SetisFounder(isFounderUUIDResponse.value)\r\n            }\r\n\r\n        }\r\n\r\n    }\r\n\r\n    useEffect(() => {\r\n        getStoreInfo();\r\n    }, [name.refresh]);\r\n    //todo: get info\r\n    // call to func that take store id and return all this\r\n    async function rateClickHandler() {\r\n\r\n        const setRateResponse = await apiClientHttp.newStoreRate(props.uuid, storeID, tempRateMe);\r\n        let str = JSON.stringify(setRateResponse);\r\n\r\n        if (setRateResponse.errorMsg !== -1) {\r\n            SetError(errorCode.get(setRateResponse.errorMsg))\r\n        } else {\r\n            const getRateResponse = await apiClientHttp.getStoreRate(props.uuid, storeID);\r\n            console.log('getRateResponse', getRateResponse)\r\n            if (getRateResponse.errorMsg !== -1) {\r\n                SetError(errorCode.get(getRateResponse.errorMsg))\r\n            } else {\r\n                Setrate(getRateResponse.value)\r\n            }\r\n        }\r\n\r\n    };\r\n\r\n    const addProductHandler = () => {\r\n        setCommand(\r\n            <NewProductInStore\r\n                uuid={UUID}\r\n                storeID={storeID}\r\n                onStore={returnToStore}\r\n            />\r\n        );\r\n    };\r\n\r\n    const returnToStore = () => {\r\n        setCommand(\r\n            <>\r\n                <h2>Founder: {founder}</h2>\r\n                <h2>Rate: {rate}</h2>\r\n                <div>\r\n                    <ProductInStoreList uuid={UUID} storeID={storeID}/>\r\n                </div>\r\n            </>\r\n        );\r\n    };\r\n\r\n    const removeProductHandler = () => {\r\n        setCommand(\r\n            <RemoveProduct uuid={UUID} storeID={storeID} onStore={returnToStore}/>\r\n        );\r\n    };\r\n\r\n    const editProductHandler = () => {\r\n        setCommand(\r\n            <EditProduct uuid={UUID} storeID={storeID} onStore={returnToStore}/>\r\n        );\r\n    };\r\n    const addManagerHandler = () => {\r\n        setCommand(\r\n            <AddManager uuid={UUID} storeID={storeID} onStore={returnToStore}/>\r\n        );\r\n    };\r\n\r\n    const removeManagerHandler = () => {\r\n        setCommand(\r\n            <RemoveManager uuid={UUID} storeID={storeID} onStore={returnToStore}/>\r\n        );\r\n    };\r\n\r\n    const editPermissionHandler = () => {\r\n        setCommand(\r\n            <EditPermission uuid={UUID} storeID={storeID} onStore={returnToStore}/>\r\n        );\r\n    };\r\n\r\n    //todo: check that hasParmission!!!! to like in the storlist eith refresh ..\r\n    // check if uuid is pwner\r\n    // if (isOwner){\r\n    const closeStoreHandler = () => {\r\n        setCommand(\r\n            <CloseStore\r\n                uuid={UUID}\r\n                storeID={storeID}\r\n                onMarket={() => props.onMarket()}\r\n            />\r\n        );\r\n    };\r\n    // }\r\n    const historyHandler = () => {\r\n        setCommand(<HistoryInStore uuid={UUID} storeID={storeID}/>);\r\n    };\r\n\r\n    const policyHandler = () => {\r\n        setCommand(<DiscountPolicy uuid={UUID} storeID={storeID}/>);\r\n    };\r\n\r\n    const buyingHandler = () => {\r\n        setCommand(<BuyingPolicy uuid={UUID} storeID={storeID}/>);\r\n    };\r\n\r\n    // const [permission, setPermission] = useState(\"\");\r\n    let permission = \"\";\r\n    //check ig uuid is manager in this store\r\n    if (isFounder){\r\n        permission = (\r\n            <>\r\n                <button onClick={rulesHandler}>Rules</button>\r\n                <button onClick={addProductHandler}> Add Product</button>\r\n                <button onClick={removeProductHandler}> Remove Product</button>\r\n                <button onClick={editProductHandler}> Edit Product</button>\r\n                <button onClick={addManagerHandler}> Add Manager</button>\r\n                <button onClick={removeManagerHandler}> Remove Manager</button>\r\n                <button onClick={editPermissionHandler}> Edit Permission</button>\r\n                <h2></h2>\r\n                <button onClick={closeStoreHandler}> Close Store</button>\r\n                <button onClick={historyHandler}> History</button>\r\n                <button onClick={policyHandler}> Discount Policy</button>\r\n                <button onClick={buyingHandler}> Buy Policy</button>\r\n            </>\r\n        );\r\n    }\r\n else if (isOwner) {\r\n        permission = (\r\n            <>\r\n                <button onClick={rulesHandler}>Rules</button>\r\n                <button onClick={addProductHandler}> Add Product</button>\r\n                <button onClick={removeProductHandler}> Remove Product</button>\r\n                <button onClick={editProductHandler}> Edit Product</button>\r\n                <button onClick={addManagerHandler}> Add Manager</button>\r\n                <button onClick={removeManagerHandler}> Remove Manager</button>\r\n                <button onClick={editPermissionHandler}> Edit Permission</button>\r\n                <h2></h2>\r\n                {/*<button onClick={closeStoreHandler}> Close Store</button>*/}\r\n                <button onClick={historyHandler}> History</button>\r\n                <button onClick={policyHandler}> Discount Policy</button>\r\n                <button onClick={buyingHandler}> Buy Policy</button>\r\n            </>\r\n        );\r\n    }\r\n\r\n    else if (isManager) {\r\n        permission = (\r\n            <>\r\n                <button onClick={rulesHandler}>Rules</button>\r\n                {/*<button onClick={addProductHandler}> Add Product</button>*/}\r\n                {/*<button onClick={removeProductHandler}> Remove Product</button>*/}\r\n                {/*<button onClick={editProductHandler}> Edit Product</button>*/}\r\n                {/*<button onClick={addManagerHandler}> Add Manager</button>*/}\r\n                {/*<button onClick={removeManagerHandler}> Remove Manager</button>*/}\r\n                {/*<button onClick={editPermissionHandler}> Edit Permission</button>*/}\r\n                <h2></h2>\r\n                <button onClick={historyHandler}> History</button>\r\n                <button onClick={policyHandler}> Discount Policy</button>\r\n                <button onClick={buyingHandler}> Buy Policy</button>\r\n            </>\r\n        );\r\n    }\r\n    const [command, setCommand] = useState(\r\n        <>\r\n            {/*<h2>Founder: {founder}</h2>*/}\r\n            {/*<h2>Rate: {rate}</h2>*/}\r\n            <div>\r\n                <ProductInStoreList uuid={UUID} storeID={storeID}/>\r\n            </div>\r\n        </>\r\n    );\r\n\r\n    async function rulesHandler() {\r\n        console.log(\":UUID \" + UUID + \"storeID \" + storeID)\r\n\r\n        const getStoreRolesResponse = await apiClientHttp.getStoreRoles(UUID, storeID);\r\n        if (getStoreRolesResponse.errorMsg !== -1) {\r\n            SetError(errorCode.get(getStoreRolesResponse.errorMsg))\r\n        } else {\r\n            // console.log(\":getStoreRolesResponse. \"+ getStoreRolesResponse[0].type)\r\n\r\n            console.log(\":getStoreRolesResponse.value22 \" + getStoreRolesResponse)\r\n            let str = JSON.stringify(getStoreRolesResponse);\r\n            //:getStoreRolesResponse.value {\"errorMsg\":-1,\"value\":{\"owner\":[\"sysManager@gmail.com\"],\"manager\":[],\"founder\":[\"1dfssdf\"]}}\r\n            console.log(\":getStoreRolesResponse.value \" + str)\r\n            // getStoreRolesResponse.value\r\n            setCommand(<Rules uuid={UUID} storeID={storeID} rules={getStoreRolesResponse.value}/>);\r\n\r\n        }\r\n\r\n    }\r\n\r\n    const BIDHandler = () => {\r\n        setCommand(<BID uuid={UUID} storeID={storeID}/>);\r\n    };\r\n\r\n    return (\r\n        <div className=\"store\">\r\n            <h3>{name}</h3>\r\n            <h3>{isOpen}</h3>\r\n            <h3>\r\n                <h2>Founder: {founder}</h2>\r\n                <h2>Rate: {rate}</h2>\r\n            </h3>\r\n            <button onClick={BIDHandler}>BID</button>\r\n            {permission}\r\n            <div>{command}</div>\r\n            <div className=\"bar__control\">\r\n                <label>Rate Store</label>\r\n                <input\r\n                    type=\"number\"\r\n                    min=\"0\"\r\n                    max=\"10\"\r\n                    value={tempRateMe}\r\n                    onChange={rateHandler}\r\n                    placeholder=\"1-10\"\r\n                />\r\n                <button onClick={rateClickHandler}>Rate</button>\r\n            </div>\r\n        </div>\r\n    );\r\n};\r\n\r\nexport default Store;\r\n"],"mappings":";;;AAAA,OAAOA,KAAP,IAAeC,SAAf,EAA0BC,QAA1B,QAAyC,OAAzC;AACA,OAAOC,kBAAP,MAA+B,+BAA/B;AACA,OAAOC,iBAAP,MAA8B,qBAA9B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,WAAP,MAAwB,eAAxB;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,UAAP,MAAuB,cAAvB;AACA,OAAOC,KAAP,MAAkB,SAAlB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAOC,aAAP,MAA0B,iBAA1B;AACA,OAAOC,WAAP,MAAwB,kBAAxB;AACA,OAAOC,YAAP,MAAyB,gBAAzB;AACA,OAAOC,cAAP,MAA2B,kBAA3B;AACA,OAAO,aAAP;AACA,SAAQC,mBAAR,QAAkC,yBAAlC;AACA,SAAQC,SAAR,QAAwB,oBAAxB;AACA,OAAOC,GAAP,MAAgB,WAAhB;;;;AAGA,MAAMC,KAAK,GAAIC,KAAD,IAAW;EAAA;;EAErB,IAAIC,aAAa,GAAGL,mBAAmB,EAAvC;EACA,MAAM,CAACM,YAAD,EAAeC,QAAf,IAA2BrB,QAAQ,CAAC,EAAD,CAAzC;EACAsB,OAAO,CAACC,GAAR,CAAY,OAAZ;EAEA,IAAIC,OAAO,GAAGN,KAAK,CAACM,OAApB;EACA,IAAIC,IAAI,GAAGP,KAAK,CAACQ,IAAjB;EACA,MAAM,CAACC,IAAD,EAAOC,OAAP,IAAkB5B,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAAC6B,OAAD,EAAUC,UAAV,IAAwB9B,QAAQ,CAAC,EAAD,CAAtC;EACA,MAAM,CAAC+B,MAAD,EAASC,SAAT,IAAsBhC,QAAQ,CAAC,EAAD,CAApC;EACA,MAAM,CAACiC,IAAD,EAAOC,OAAP,IAAkBlC,QAAQ,CAAC,EAAD,CAAhC;EACA,MAAM,CAACmC,OAAD,EAAUC,UAAV,IAAwBpC,QAAQ,CAAC,KAAD,CAAtC;EACA,MAAM,CAACqC,SAAD,EAAYC,YAAZ,IAA4BtC,QAAQ,CAAC,KAAD,CAA1C;EACA,MAAM,CAACuC,SAAD,EAAYC,YAAZ,IAA4BxC,QAAQ,CAAC,KAAD,CAA1C;EAEA,MAAM,CAACyC,UAAD,EAAaC,aAAb,IAA8B1C,QAAQ,EAA5C;;EAEA,MAAM2C,WAAW,GAAGC,KAAK,IAAI;IACzBF,aAAa,CAACE,KAAK,CAACC,MAAN,CAAaC,KAAd,CAAb;EACH,CAFD;;EAGAxB,OAAO,CAACC,GAAR,CAAY,UAAUE,IAAtB;;EAEA,eAAesB,YAAf,GAA8B;IAC1B,IAAIC,MAAM,GAAG,EAAb;IAEA,MAAMC,oBAAoB,GAAG,MAAM9B,aAAa,CAAC4B,YAAd,CAA2BvB,OAA3B,CAAnC;IACA,IAAI0B,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAeH,oBAAf,CAAV;IACA3B,OAAO,CAACC,GAAR,CAAY,6BAA6B2B,GAAzC;;IAEA,IAAID,oBAAoB,CAACI,QAArB,KAAkC,CAAC,CAAvC,EAA0C;MACtChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAcL,oBAAoB,CAACI,QAAnC,CAAD,CAAR;IACH,CAFD,MAEO;MACH/B,OAAO,CAACC,GAAR,CAAY0B,oBAAoB,CAACH,KAArB,CAA2BnB,IAAvC,EAA6CsB,oBAAoB,CAACH,KAArB,CAA2BjB,OAAxE,EAAiFoB,oBAAoB,CAACH,KAArB,CAA2Bb,IAA5G,EAAkHgB,oBAAoB,CAACH,KAArB,CAA2Bf,MAA7I;MACAH,OAAO,CAACqB,oBAAoB,CAACH,KAArB,CAA2BnB,IAA5B,CAAP;MACAG,UAAU,CAACmB,oBAAoB,CAACH,KAArB,CAA2BjB,OAA5B,CAAV;MACAK,OAAO,CAACe,oBAAoB,CAACH,KAArB,CAA2Bb,IAA5B,CAAP;MACA,IAAIgB,oBAAoB,CAACH,KAArB,CAA2Bf,MAA/B,EACIC,SAAS,CAAC,mBAAD,CAAT,CADJ,KAEK;QACDA,SAAS,CAAC,oBAAD,CAAT;MAEH;MAEDV,OAAO,CAACC,GAAR,CAAY,gBAAgByB,MAA5B;MACA3B,QAAQ,CAAC,EAAD,CAAR;MACA,MAAMkC,mBAAmB,GAAG,MAAMpC,aAAa,CAACqC,WAAd,CAA0B/B,IAA1B,EAAgCD,OAAhC,CAAlC;MACA,IAAI0B,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAeG,mBAAf,CAAV;MACAjC,OAAO,CAACC,GAAR,CAAY,4BAA4B2B,GAAxC;;MAEA,IAAIK,mBAAmB,CAACF,QAApB,KAAiC,CAAC,CAAtC,EAAyC;QACrChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAcC,mBAAmB,CAACF,QAAlC,CAAD,CAAR;MACH,CAFD,MAEO;QACHjB,UAAU,CAACmB,mBAAmB,CAACT,KAArB,CAAV;MACH;;MACD,MAAMW,qBAAqB,GAAG,MAAMtC,aAAa,CAACuC,aAAd,CAA4BjC,IAA5B,EAAkCD,OAAlC,CAApC;MACA,IAAImC,IAAI,GAAGR,IAAI,CAACC,SAAL,CAAeK,qBAAf,CAAX;MACAnC,OAAO,CAACC,GAAR,CAAY,8BAA8BoC,IAA1C;;MAEA,IAAIF,qBAAqB,CAACJ,QAAtB,KAAmC,CAAC,CAAxC,EAA2C;QACvChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAcG,qBAAqB,CAACJ,QAApC,CAAD,CAAR;MACH,CAFD,MAEO;QACHf,YAAY,CAACmB,qBAAqB,CAACX,KAAvB,CAAZ;MACH;;MACD,MAAMc,qBAAqB,GAAG,MAAMzC,aAAa,CAAC0C,aAAd,CAA4BpC,IAA5B,EAAkCD,OAAlC,CAApC;MACA,IAAIsC,IAAI,GAAGX,IAAI,CAACC,SAAL,CAAeQ,qBAAf,CAAX;MACAtC,OAAO,CAACC,GAAR,CAAY,8BAA8BuC,IAA1C;;MAEA,IAAIF,qBAAqB,CAACP,QAAtB,KAAmC,CAAC,CAAxC,EAA2C;QACvChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAcM,qBAAqB,CAACP,QAApC,CAAD,CAAR;MACH,CAFD,MAEO;QACHb,YAAY,CAACoB,qBAAqB,CAACd,KAAvB,CAAZ;MACH;IAEJ;EAEJ;;EAED/C,SAAS,CAAC,MAAM;IACZgD,YAAY;EACf,CAFQ,EAEN,CAACpB,IAAI,CAACoC,OAAN,CAFM,CAAT,CA9EqB,CAiFrB;EACA;;EACA,eAAeC,gBAAf,GAAkC;IAE9B,MAAMC,eAAe,GAAG,MAAM9C,aAAa,CAAC+C,YAAd,CAA2BhD,KAAK,CAACQ,IAAjC,EAAuCF,OAAvC,EAAgDiB,UAAhD,CAA9B;IACA,IAAIS,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAea,eAAf,CAAV;;IAEA,IAAIA,eAAe,CAACZ,QAAhB,KAA6B,CAAC,CAAlC,EAAqC;MACjChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAcW,eAAe,CAACZ,QAA9B,CAAD,CAAR;IACH,CAFD,MAEO;MACH,MAAMc,eAAe,GAAG,MAAMhD,aAAa,CAACiD,YAAd,CAA2BlD,KAAK,CAACQ,IAAjC,EAAuCF,OAAvC,CAA9B;MACAF,OAAO,CAACC,GAAR,CAAY,iBAAZ,EAA+B4C,eAA/B;;MACA,IAAIA,eAAe,CAACd,QAAhB,KAA6B,CAAC,CAAlC,EAAqC;QACjChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAca,eAAe,CAACd,QAA9B,CAAD,CAAR;MACH,CAFD,MAEO;QACHnB,OAAO,CAACiC,eAAe,CAACrB,KAAjB,CAAP;MACH;IACJ;EAEJ;;EAAA;;EAED,MAAMuB,iBAAiB,GAAG,MAAM;IAC5BC,UAAU,eACN,QAAC,iBAAD;MACI,IAAI,EAAE7C,IADV;MAEI,OAAO,EAAED,OAFb;MAGI,OAAO,EAAE+C;IAHb;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAOH,CARD;;EAUA,MAAMA,aAAa,GAAG,MAAM;IACxBD,UAAU,eACN;MAAA,wBACI;QAAA,wBAAczC,OAAd;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA,qBAAWI,IAAX;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAA,uBACI,QAAC,kBAAD;UAAoB,IAAI,EAAER,IAA1B;UAAgC,OAAO,EAAED;QAAzC;UAAA;UAAA;UAAA;QAAA;MADJ;QAAA;QAAA;QAAA;MAAA,QAHJ;IAAA,gBADM,CAAV;EASH,CAVD;;EAYA,MAAMgD,oBAAoB,GAAG,MAAM;IAC/BF,UAAU,eACN,QAAC,aAAD;MAAe,IAAI,EAAE7C,IAArB;MAA2B,OAAO,EAAED,OAApC;MAA6C,OAAO,EAAE+C;IAAtD;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAGH,CAJD;;EAMA,MAAME,kBAAkB,GAAG,MAAM;IAC7BH,UAAU,eACN,QAAC,WAAD;MAAa,IAAI,EAAE7C,IAAnB;MAAyB,OAAO,EAAED,OAAlC;MAA2C,OAAO,EAAE+C;IAApD;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAGH,CAJD;;EAKA,MAAMG,iBAAiB,GAAG,MAAM;IAC5BJ,UAAU,eACN,QAAC,UAAD;MAAY,IAAI,EAAE7C,IAAlB;MAAwB,OAAO,EAAED,OAAjC;MAA0C,OAAO,EAAE+C;IAAnD;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAGH,CAJD;;EAMA,MAAMI,oBAAoB,GAAG,MAAM;IAC/BL,UAAU,eACN,QAAC,aAAD;MAAe,IAAI,EAAE7C,IAArB;MAA2B,OAAO,EAAED,OAApC;MAA6C,OAAO,EAAE+C;IAAtD;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAGH,CAJD;;EAMA,MAAMK,qBAAqB,GAAG,MAAM;IAChCN,UAAU,eACN,QAAC,cAAD;MAAgB,IAAI,EAAE7C,IAAtB;MAA4B,OAAO,EAAED,OAArC;MAA8C,OAAO,EAAE+C;IAAvD;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAGH,CAJD,CAnJqB,CAyJrB;EACA;EACA;;;EACA,MAAMM,iBAAiB,GAAG,MAAM;IAC5BP,UAAU,eACN,QAAC,UAAD;MACI,IAAI,EAAE7C,IADV;MAEI,OAAO,EAAED,OAFb;MAGI,QAAQ,EAAE,MAAMN,KAAK,CAAC4D,QAAN;IAHpB;MAAA;MAAA;MAAA;IAAA,QADM,CAAV;EAOH,CARD,CA5JqB,CAqKrB;;;EACA,MAAMC,cAAc,GAAG,MAAM;IACzBT,UAAU,eAAC,QAAC,cAAD;MAAgB,IAAI,EAAE7C,IAAtB;MAA4B,OAAO,EAAED;IAArC;MAAA;MAAA;MAAA;IAAA,QAAD,CAAV;EACH,CAFD;;EAIA,MAAMwD,aAAa,GAAG,MAAM;IACxBV,UAAU,eAAC,QAAC,cAAD;MAAgB,IAAI,EAAE7C,IAAtB;MAA4B,OAAO,EAAED;IAArC;MAAA;MAAA;MAAA;IAAA,QAAD,CAAV;EACH,CAFD;;EAIA,MAAMyD,aAAa,GAAG,MAAM;IACxBX,UAAU,eAAC,QAAC,YAAD;MAAc,IAAI,EAAE7C,IAApB;MAA0B,OAAO,EAAED;IAAnC;MAAA;MAAA;MAAA;IAAA,QAAD,CAAV;EACH,CAFD,CA9KqB,CAkLrB;;;EACA,IAAI0D,UAAU,GAAG,EAAjB,CAnLqB,CAoLrB;;EACA,IAAI3C,SAAJ,EAAc;IACV2C,UAAU,gBACN;MAAA,wBACI;QAAQ,OAAO,EAAEC,YAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAQ,OAAO,EAAEd,iBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAQ,OAAO,EAAEG,oBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII;QAAQ,OAAO,EAAEC,kBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI;QAAQ,OAAO,EAAEC,iBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ,eAMI;QAAQ,OAAO,EAAEC,oBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ,eAOI;QAAQ,OAAO,EAAEC,qBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAPJ,eAQI;QAAA;QAAA;QAAA;MAAA,QARJ,eASI;QAAQ,OAAO,EAAEC,iBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATJ,eAUI;QAAQ,OAAO,EAAEE,cAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVJ,eAWI;QAAQ,OAAO,EAAEC,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ,eAYI;QAAQ,OAAO,EAAEC,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA,gBADJ;EAgBH,CAjBD,MAkBE,IAAI9C,OAAJ,EAAa;IACX+C,UAAU,gBACN;MAAA,wBACI;QAAQ,OAAO,EAAEC,YAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAQ,OAAO,EAAEd,iBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ,eAGI;QAAQ,OAAO,EAAEG,oBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAHJ,eAII;QAAQ,OAAO,EAAEC,kBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAJJ,eAKI;QAAQ,OAAO,EAAEC,iBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QALJ,eAMI;QAAQ,OAAO,EAAEC,oBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QANJ,eAOI;QAAQ,OAAO,EAAEC,qBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAPJ,eAQI;QAAA;QAAA;QAAA;MAAA,QARJ,eAUI;QAAQ,OAAO,EAAEG,cAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVJ,eAWI;QAAQ,OAAO,EAAEC,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ,eAYI;QAAQ,OAAO,EAAEC,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAZJ;IAAA,gBADJ;EAgBH,CAjBC,MAmBG,IAAI5C,SAAJ,EAAe;IAChB6C,UAAU,gBACN;MAAA,wBACI;QAAQ,OAAO,EAAEC,YAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAQI;QAAA;QAAA;QAAA;MAAA,QARJ,eASI;QAAQ,OAAO,EAAEJ,cAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QATJ,eAUI;QAAQ,OAAO,EAAEC,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVJ,eAWI;QAAQ,OAAO,EAAEC,aAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAXJ;IAAA,gBADJ;EAeH;;EACD,MAAM,CAACG,OAAD,EAAUd,UAAV,IAAwBtE,QAAQ,eAClC;IAAA,uBAGI;MAAA,uBACI,QAAC,kBAAD;QAAoB,IAAI,EAAEyB,IAA1B;QAAgC,OAAO,EAAED;MAAzC;QAAA;QAAA;QAAA;MAAA;IADJ;MAAA;MAAA;MAAA;IAAA;EAHJ,iBADkC,CAAtC;;EAUA,eAAe2D,YAAf,GAA8B;IAC1B7D,OAAO,CAACC,GAAR,CAAY,WAAWE,IAAX,GAAkB,UAAlB,GAA+BD,OAA3C;IAEA,MAAM6D,qBAAqB,GAAG,MAAMlE,aAAa,CAACmE,aAAd,CAA4B7D,IAA5B,EAAkCD,OAAlC,CAApC;;IACA,IAAI6D,qBAAqB,CAAChC,QAAtB,KAAmC,CAAC,CAAxC,EAA2C;MACvChC,QAAQ,CAACN,SAAS,CAACuC,GAAV,CAAc+B,qBAAqB,CAAChC,QAApC,CAAD,CAAR;IACH,CAFD,MAEO;MACH;MAEA/B,OAAO,CAACC,GAAR,CAAY,oCAAoC8D,qBAAhD;MACA,IAAInC,GAAG,GAAGC,IAAI,CAACC,SAAL,CAAeiC,qBAAf,CAAV,CAJG,CAKH;;MACA/D,OAAO,CAACC,GAAR,CAAY,kCAAkC2B,GAA9C,EANG,CAOH;;MACAoB,UAAU,eAAC,QAAC,KAAD;QAAO,IAAI,EAAE7C,IAAb;QAAmB,OAAO,EAAED,OAA5B;QAAqC,KAAK,EAAE6D,qBAAqB,CAACvC;MAAlE;QAAA;QAAA;QAAA;MAAA,QAAD,CAAV;IAEH;EAEJ;;EAED,MAAMyC,UAAU,GAAG,MAAM;IACrBjB,UAAU,eAAC,QAAC,GAAD;MAAK,IAAI,EAAE7C,IAAX;MAAiB,OAAO,EAAED;IAA1B;MAAA;MAAA;MAAA;IAAA,QAAD,CAAV;EACH,CAFD;;EAIA,oBACI;IAAK,SAAS,EAAC,OAAf;IAAA,wBACI;MAAA,UAAKG;IAAL;MAAA;MAAA;MAAA;IAAA,QADJ,eAEI;MAAA,UAAKI;IAAL;MAAA;MAAA;MAAA;IAAA,QAFJ,eAGI;MAAA,wBACI;QAAA,wBAAcF,OAAd;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QAAA,qBAAWI,IAAX;MAAA;QAAA;QAAA;QAAA;MAAA,QAFJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAHJ,eAOI;MAAQ,OAAO,EAAEsD,UAAjB;MAAA;IAAA;MAAA;MAAA;MAAA;IAAA,QAPJ,EAQKL,UARL,eASI;MAAA,UAAME;IAAN;MAAA;MAAA;MAAA;IAAA,QATJ,eAUI;MAAK,SAAS,EAAC,cAAf;MAAA,wBACI;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QADJ,eAEI;QACI,IAAI,EAAC,QADT;QAEI,GAAG,EAAC,GAFR;QAGI,GAAG,EAAC,IAHR;QAII,KAAK,EAAE3C,UAJX;QAKI,QAAQ,EAAEE,WALd;QAMI,WAAW,EAAC;MANhB;QAAA;QAAA;QAAA;MAAA,QAFJ,eAUI;QAAQ,OAAO,EAAEqB,gBAAjB;QAAA;MAAA;QAAA;QAAA;QAAA;MAAA,QAVJ;IAAA;MAAA;MAAA;MAAA;IAAA,QAVJ;EAAA;IAAA;IAAA;IAAA;EAAA,QADJ;AAyBH,CAtSD;;GAAM/C,K;;KAAAA,K;AAwSN,eAAeA,KAAf"},"metadata":{},"sourceType":"module"}